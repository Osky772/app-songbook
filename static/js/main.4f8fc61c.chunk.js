(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{210:function(e,t,n){},226:function(e,t,n){e.exports=n(503)},503:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(35),i=n.n(l),s=n(21),o=n(22),c=n(24),u=n(23),p=n(25),d=n(504),m=n(155),h=n.n(m),g=n(221),f=n.n(g),y=n(27),b=n.n(y),v=n(16),E=n.n(v),S=n(222),j=n.n(S),k=n(156),O=n.n(k),x=n(33),w=n.n(x),C=n(116),P=n(28),z=n(9),W=n(48),N=n.n(W),A=n(38),T=n(39),B=n(36),I=n.n(B);function D(){var e=Object(A.a)(["\n\tpadding: 0px 25px 25px 25px;\n\theight: 100%;\n\toverflow: auto;\n\tposition: relative;\n"]);return D=function(){return e},e}function F(){var e=Object(A.a)(["\n\twidth: 700px;\n\theight: 100vh;\n\tbackground: white;\n\toutline: none;\n"]);return F=function(){return e},e}function L(){var e=Object(A.a)(["\n\twidth: 80%;\n\tpadding: 20px 60px 20px 60px;\n\tmargin-bottom: 60;\n\tfont-size: 16;\n"]);return L=function(){return e},e}function R(){var e=Object(A.a)(["\n\twidth: 100%;\n\tmargin: 0 auto 20px auto;\n"]);return R=function(){return e},e}function U(){var e=Object(A.a)(["\n\twidth: 80%;\n\tmargin-bottom: 20px;\n\tmargin: 0 auto 20px auto;\n"]);return U=function(){return e},e}function M(){var e=Object(A.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\theight: 100%;\n\tjustify-content: center;\n\talign-items: center;\n"]);return M=function(){return e},e}function Z(){var e=Object(A.a)([""]);return Z=function(){return e},e}function V(){var e=Object(A.a)(["\n\tmargin: 0px 10px 15px 10px;\n\tborder-radius: 0;\n"]);return V=function(){return e},e}function q(){var e=Object(A.a)(["\n\tpadding: 10px 15px;\n\tmargin: 0px 10px 15px 10px;\n\tborder-radius: 0;\n\tdisplay: flex;\n\talign-items: start;\n"]);return q=function(){return e},e}function J(){var e=Object(A.a)(["\n\tflex-direction: column;\n"]);return J=function(){return e},e}function K(){var e=Object(A.a)(["\n\tmax-width: 1000px;\n\tmargin: 0 auto;\n\tpadding-top: 40px;\n\tdisplay: flex;\n\tjustify-content: center;\n"]);return K=function(){return e},e}var H=function(e){var t=e.className,n=e.children;return r.a.createElement(I.a,{className:t},n)},X=Object(T.a)(function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:t},n)})(K()),G=T.a.div(J()),Y=Object(T.a)(H)(q()),Q=T.a.div(V()),$=T.a.div(Z()),_=T.a.div(M()),ee=(Object(T.a)(H)(U()),Object(T.a)(H)(R())),te=Object(T.a)(H)(L()),ne=T.a.div(F()),ae=T.a.div(D()),re=n(53),le=n.n(re),ie=n(80),se=n.n(ie),oe=n(52),ce=n.n(oe),ue=n(114),pe=n.n(ue),de=n(62),me=function(e){var t=e.message;return r.a.createElement(pe.a,{style:{backgroundColor:"#fca525",margin:"15px 0 35px 0",maxWidth:"100%"},message:r.a.createElement("span",{style:{display:"flex",marginLeft:"-5px"}},r.a.createElement(de.d,{style:{fontSize:50,height:"100%",marginRight:10}}),r.a.createElement("span",null,r.a.createElement("div",{style:{fontWeight:"bold"}},"Uwaga!"),t))})},he=n(51),ge=n.n(he),fe=function(e){var t=e.error,n=e.type,a=[];if("song"===n){var l=t.title,i=t.category,s=t.description;l&&a.push("tytu\u0142"),i&&a.push("kategoria"),s&&a.push("tekst")}if("playlist"===n){var o=t.title,c=t.songs;o&&a.push("tytu\u0142"),c&&a.push("list\u0119 piosenek")}return r.a.createElement("div",{style:0===a.length?{display:"none"}:{display:"block"}},r.a.createElement(pe.a,{style:{backgroundColor:"#d30033",margin:"15px 0 35px 0",height:40,width:"calc(100% - 50px)",maxWidth:"100%",position:"absolute"},message:r.a.createElement("span",{style:{display:"flex",marginLeft:"-5px"}},r.a.createElement(de.c,{style:{fontSize:15,height:"100%",marginRight:10}}),r.a.createElement("span",null,"Musisz uzupe\u0142ni\u0107 pole:",r.a.createElement("span",{style:{fontWeight:"bold"}}," ",a.join(", ")," "),"song"===n?"aby doda\u0107 piosenk\u0119!":"aby doda\u0107 playlist\u0119"))}))},ye={textField:{display:"block",marginBottom:15,marginTop:0},select:{marginBottom:15},textFieldMultiline:{display:"block",margin:8},btn:{marginRight:15}},be=["polskie piosenki","zagraniczne piosenki","piosenki harcerskie","piosenki religijne","piosenki turystyczne","piosenki ludowe","pie\u015bni patriotyczne","piosenki dla dzieci","szanty","kol\u0119dy","biesiadne"],ve=function(e){var t=e.song,n=t.category,a=void 0===n?"":n,l=t.title,i=void 0===l?"":l,s=t.performer,o=void 0===s?"":s,c=t.description,u=void 0===c?"":c,p=e.handleSubmit,d=e.handleChange,m=e.handleChangeSongText,h=e.handleCloseModal,g=e.handleSongPreview,f=e.isError,y=e.error;return r.a.createElement(ae,null,f&&r.a.createElement(fe,{type:"song",error:y}),r.a.createElement("form",{onSubmit:p,style:{marginTop:"70px"}},r.a.createElement(le.a,{id:"outlined-full-width",label:"Tytu\u0142 *",error:y.title,name:"title",style:ye.textField,onChange:d,value:i,autoComplete:"off",placeholder:"Wpisz nazw\u0119 utworu",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(le.a,{id:"outlined-full-width",label:"Wykonawca",name:"performer",style:ye.textField,onChange:d,value:o,autoComplete:"off",placeholder:"Wpisz wykonawc\u0119 utworu",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(ce.a,{error:y.category},r.a.createElement(ge.a,{shrink:!0,htmlFor:"select-multiple-native"},"Kategoria *"),r.a.createElement(se.a,{native:!0,value:a,onChange:d,name:"category",style:ye.select,inputProps:{id:"select-multiple-native"}},a?null:r.a.createElement("option",{value:""},"Wybierz kategori\u0119..."),be.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(me,{message:"Kolejne wersy oddzielaj enterem. Chwyty przypisane do danego wersu dodawaj w tej samej linii w nawiasach ostrych, oddzielonymi przecinkami, np. Tak, tak, tam w lustrze... <G, d, C>."}),r.a.createElement(le.a,{id:"outlined-textarea",label:"Tekst piosenki *",error:y.description,name:"description",onChange:m,value:u,placeholder:"Tutaj wpisz tekst piosenki oraz chwyty",style:ye.textField,multiline:!0,rows:"18",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},helperText:"* pola obowi\u0105zkowe"}),r.a.createElement(E.a,{style:ye.btn,type:"submit"},"Zatwierd\u017a"),r.a.createElement(E.a,{style:ye.btn,onClick:h},"Wyjd\u017a"),r.a.createElement(E.a,{style:ye.btn,onClick:g},"Podgl\u0105d")))},Ee=function(e){var t=e.description,n=(void 0===t?"":t).split("\n").map(function(e){return{text:e.split("<")[0]?e.split("<")[0].trim():null,chords:e.split("<")[1]?e.split("<")[1].trim().slice(0,-1):null}});return""===n[n.length-1].text&&""===n[n.length-2].text&&(n.pop(),n.pop()),""===n[n.length-1].text&&n.pop(),n},Se={verse:{display:"flex",margin:"10px 0"},text:{width:"75%"},chords:{width:"20%"}},je=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={song:{}},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.songId;console.log(t),fetch("".concat("https://app-songbook.firebaseio.com/","/songs/").concat(t,".json")).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({song:t})})}},{key:"render",value:function(){var e=this.state,t=e.song,n=e.song,a=n.performer,l=void 0===a?"":a,i=n.title,s=void 0===i?"":i,o=n.category,c=void 0===o?"":o,u=Ee(t);return r.a.createElement(X,null,r.a.createElement(te,null,r.a.createElement("h2",null,l?l+" - "+s:s),r.a.createElement("h4",null,c),u.map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})})))}}]),t}(a.Component),ke=function(e){var t=e.isPreviewed,n=e.handleSongPreview,a=e.song,l=e.song,i=l.performer,s=void 0===i?"":i,o=l.title,c=void 0===o?"":o,u=l.category,p=void 0===u?"":u,d=Ee(a);return r.a.createElement(N.a,{open:t},r.a.createElement(_,null,r.a.createElement(ne,null,r.a.createElement("div",{style:{padding:"20px 30px",height:"100%",overflow:"auto"}},r.a.createElement("h2",null,s?s+" - "+c:c),r.a.createElement("h4",null,p),d.map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})}),r.a.createElement(E.a,{onClick:n},"Wyjd\u017a")))))},Oe=n(26),xe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,isError:!1,error:{title:!1,description:!1,category:!1},isPreviewed:!1,song:{title:"",performer:"",description:"",category:""}},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1,isError:!1,error:{title:!1,description:!1,category:!1}})},n.handleChange=function(e){var t=e.currentTarget.name,a=n.state,r=a.error,l=a.song;n.setState({song:Object(z.a)({},l,Object(P.a)({},t,e.target.value)),error:Object(z.a)({},r,Object(P.a)({},t,(r[t],!1)))})},n.handleChangeSongText=function(e){var t=e.currentTarget.name,a=n.state,r=a.error,l=a.song,i=e.target.value;i=(i=i.startsWith("\n")?i.substr(1):i).endsWith("\n\n\n")?i.substr(0,i.length-1):i,n.setState({song:Object(z.a)({},l,Object(P.a)({},t,i)),error:Object(z.a)({},r,Object(P.a)({},t,(r[t],!1)))})},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state.song,a=Object.keys(t).filter(function(e){return"performer"!==e}).filter(function(e){return""===t[e]}),r=a.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});a.length>0?n.setState(Object(z.a)({},n.state,{isError:!0,error:r})):Tt.ref("songs-to-approve").push().set(Object(z.a)({},t,{isApproved:!1})).then(function(){alert("Added song successfully"),n.setState({open:!1,isError:!1,error:{},isPreviewed:!1,song:{title:"",performer:"",description:"",category:""}})}).catch(function(){return alert("Error has occurred")})},n.handleSongPreview=function(){var e=n.state.isPreviewed;n.setState(Object(z.a)({},n.state,{isPreviewed:!e}))},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.song,n=e.open,l=e.isPreviewed,i=e.isError,s=e.error,o=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(E.a,{className:o.Btn,variant:"outlined",onClick:this.handleOpen},"Dodaj utw\xf3r"),r.a.createElement(N.a,{open:n,disableBackdropClick:!0},r.a.createElement(_,null,r.a.createElement(ne,null,r.a.createElement(ve,{song:t,handleSubmit:this.handleFormSubmit,handleChange:this.handleChange,handleChangeSongText:this.handleChangeSongText,handleCloseModal:this.handleClose,handleSongPreview:this.handleSongPreview,error:s,isError:i})))),r.a.createElement(ke,{isPreviewed:l,handleSongPreview:this.handleSongPreview,song:t}))}}]),t}(a.Component),we=Object(Oe.withStyles)(function(e){return{Btn:{color:"white",fontSize:"14px",fontWeight:"bold",textTransform:"none",padding:"3px 25px",borderColor:"white",marginLeft:15,"&:hover":{backgroundColor:"#02a8f4"}}}})(xe),Ce=n(54),Pe=n(153),ze=n.n(Pe),We=n(215),Ne=n.n(We),Ae=n(8),Te=n.n(Ae);ze.a.vfs=Ne.a.pdfMake.vfs;var Be=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={songs:[]},n.createPDF=function(){var e=n.state,t=e.title,a=void 0===t?"":t,r=e.songs.map(function(e){return[{text:e.title,style:"header"},{columns:[{width:"75%",text:e.description.split("\n").map(function(e){return e.split("<")[0]?e.split("<")[0].trim():""}).join("\n")},{width:"20%",text:e.description.split("\n").map(function(e){return e.split("<")[1]?e.split("<")[1].trim().slice(0,-1).split(", ").join(" "):""}).join("\n")}]}]}),l={header:{text:"app.spiewnik - najwi\u0119ksza podr\u0119czna baza piosenek",style:"watermark"},footer:function(e,t){return[{text:e.toString()+" z "+t,alignment:"center"}]},content:[{text:a,style:"title"}].concat(Object(Ce.a)(r)),styles:{title:{marginBottom:15,fontSize:25,bold:!0},header:{fontSize:18,bold:!0,marginBottom:6,marginTop:15},watermark:{marginLeft:40,marginTop:15,fontSize:8}}};ze.a.createPdf(l).open()},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.songs,t=this.props.classes;return r.a.createElement(E.a,{variant:"contained",className:Te()(t.Btn,t.active),disabled:Boolean(!e.length),onClick:e.length?this.createPDF:null},"Pobierz plik PDF")}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.songs.length!==t.songs.length?{title:e.title,songs:e.songs}:null}}]),t}(a.Component),Ie=Object(Oe.withStyles)(function(e){return{Btn:{color:"white",fontSize:"14px",fontWeight:"bold",textTransform:"none",padding:"3px 25px",marginLeft:15},active:{backgroundColor:"#DC244A",color:"white","&:hover":{backgroundColor:"#c72042"}},disabled:{color:"#cbd3df",backgroundColor:"#a4b0bd"}}})(Be),De=n(83),Fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.songs,l=void 0===n?[]:n,i=e.removeSong;return r.a.createElement(a.Fragment,null,r.a.createElement(b.a,{className:t.title},"Wybrane piosenki"),r.a.createElement(De.c,{droppableId:"playlist"},function(e){return r.a.createElement($,Object.assign({ref:e.innerRef},e.droppableProps),l.map(function(e,n){var a=e.id,l=e.performer,s=e.title;return r.a.createElement(De.b,{key:n,draggableId:a,index:n},function(e){return r.a.createElement(Q,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(I.a,{style:{width:"100%",padding:"10px",display:"flex",alignItems:"center",justifyContent:"space-between"},elevation:1},r.a.createElement(b.a,{className:t.songTitle},n+1,". ",l?l+" - "+s:s),r.a.createElement(C.b,{onMouseEnter:function(e){return e.target.style.cursor="pointer"},onClick:function(){return i(a)},fontSize:20,style:{marginRight:15}})))})}),e.placeholder)}))}}]),t}(a.Component),Le=Object(Oe.withStyles)({title:{fontSize:18,margin:"15px 0 15px 0"},songTitle:{fontSize:16}})(Fe),Re=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCreating:!1,isEditing:!1,isError:!1,playlist:{id:null,title:"",isPublic:!1,songs:[]}},n.handleChange=function(e){n.setState(Object(z.a)({},n.state,{playlist:Object(z.a)({},n.state.playlist,{title:e.target.value})}))},n.handleSelectChange=function(e){n.setState(Object(z.a)({},n.state,{playlist:Object(z.a)({},n.state.playlist,{isPublic:Boolean(e.target.value)})}))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state.playlist,a=n.props.user,r=Object.keys(t).filter(function(e){return"id"!==e}).filter(function(e){return""===t[e]||0===t[e].length}),l=r.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});if(r.length>0)n.setState(Object(z.a)({},n.state,{isError:!0,error:l}));else if(t.id&&t.isPublic)Tt.ref("playlists/".concat(t.id)).update(t).then(function(){alert("Playlist edited successfully"),n.props.handleSelectSongs([])}).then(function(){return n.props.fetchData()}).catch(function(e){alert(e.message)});else if(null===t.id&&t.isPublic){var i=Tt.ref("playlists").push();i.set(Object(z.a)({},t,{id:i.key,userId:a.uid,userEmail:a.email})).then(function(){alert("Added playlist successfully"),n.props.handleSelectSongs([]),n.props.handleClose()}).catch(function(e){alert(e.message)})}else if(t.isPublic||t.id)t.isPublic||!t.id||Tt.ref("users/".concat(a.uid,"/playlists/").concat(t.id)).update(t).then(function(){alert("Playlist edited successfully"),n.props.handleSelectSongs([])}).then(function(){return n.props.fetchData()}).catch(function(e){alert(e.message)});else{var s=Tt.ref("users/".concat(a.uid,"/playlists")).push();s.set(Object(z.a)({},t,{id:s.key,userId:a.uid,userEmail:a.email})).then(function(){alert("Your private playlist added successfully"),n.props.handleSelectSongs([]),n.props.handleClose()}).catch(function(e){alert(e.message)})}},n.handleClose=function(){var e=n.props.handleClose;n.setState({open:!1,isEditing:!1,editedPlaylist:""}),e()},n.onDragEnd=function(e){var t=e.destination,a=e.source,r=e.draggableId,l=n.state.playlist.songs;if(t&&t.index!==a.index){var i=Array.from(n.state.playlist.songs);i.splice(a.index,1),i.splice(t.index,0,l.find(function(e){return e.id===r})),n.setState({playlist:Object(z.a)({},n.state.playlist,{songs:i})})}},n.handleRemovePlaylistSong=function(e){var t=n.state.playlist.songs.filter(function(t){return t.id!==e});n.setState(Object(z.a)({},n.state,{playlist:Object(z.a)({},n.state.playlist,{songs:t})}))},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isCreating,n=e.isEditing,a=e.isError,l=e.error,i=e.playlist,s=i.songs,o=void 0===s?[]:s,c=i.title,u=void 0===c?"":c,p=i.isPublic,d=void 0!==p&&p,m=this.props,h=m.selectedSongs;m.user;return r.a.createElement(De.a,{onDragEnd:this.onDragEnd},r.a.createElement(N.a,{open:t||n,disableBackdropClick:!0},r.a.createElement(_,null,r.a.createElement(ne,null,r.a.createElement(ae,null,a&&r.a.createElement(fe,{type:"playlist",error:l}),r.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{marginTop:"70px"}},r.a.createElement(le.a,{id:"outlined-full-width",label:"Nazwa",name:"nazwa",onChange:this.handleChange,value:u,autoComplete:"off",placeholder:"Podaj nazw\u0119 dla playlisty",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(ce.a,null,r.a.createElement(ge.a,{shrink:!0,htmlFor:"select-multiple-native"},"Publiczne czy prywatne"),r.a.createElement(se.a,{native:!0,value:d,onChange:this.handleSelectChange,name:"is-public",inputProps:{id:"select-multiple-native"}},r.a.createElement("option",{value:""},"Wybierz kategori\u0119..."),r.a.createElement("option",{value:!0},"Publiczne"),r.a.createElement("option",{value:!1},"Prywatne"))),r.a.createElement(Le,{songs:o,selectedSongs:h,removeSong:this.handleRemovePlaylistSong}),n&&r.a.createElement(me,{message:"Jesli chcesz doda\u0107 utwory, wr\xf3\u0107 do listy piosenek, zaznacz utwory i wr\xf3\u0107 tutaj ponownie. Wybrane piosenki pojawi\u0105 si\u0119 na dole listy. Pami\u0119taj, \u017ce nie pojawi si\u0119 piosenka, kt\xf3ra ju\u017c znajduje si\u0119 na li\u015bcie. "}),r.a.createElement(E.a,{style:{marginRight:15},type:"submit"},"Zatwierd\u017a"),r.a.createElement(E.a,{onClick:this.handleClose},"Wyjd\u017a")))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.isCreating&&void 0!==e.selectedSongs&&void 0!==t.playlist.songs&&0===t.playlist.songs.length&&0!==e.selectedSongs.length&&!0!==e.isEditing&&!0!==t.isEditing)return Object(z.a)({},t,{isCreating:!0,playlist:Object(z.a)({},t.playlist,{title:"",songs:e.selectedSongs})});if(Boolean(e.editedPlaylist.id)&&e.isEditing&&!0!==t.isEditing){var n=void 0===e.editedPlaylist.songs?[]:e.editedPlaylist.songs,a=Object(Ce.a)(n).concat(e.selectedSongs),r=a.map(function(e){return e.id}).map(function(e,t,n){return n.indexOf(e)===t&&t}).filter(function(e){return a[e]}).map(function(e){return a[e]});return Object(z.a)({},t,{playlist:Object(z.a)({},e.editedPlaylist,{songs:r}),isEditing:!0})}return null}}]),t}(a.Component),Ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCreating:!1},n.handleCreate=function(){n.setState({isCreating:!0})},n.handleClose=function(){n.setState({isCreating:!1})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.isCreating,t=this.props.classes,n=this.props,l=n.selectedSongs,i=void 0===l?[]:l,s=n.editedPlaylist,o=void 0===s?"":s,c=n.handleSelectSongs,u=n.user;return r.a.createElement(a.Fragment,null,r.a.createElement(E.a,{variant:"outlined",className:t.Btn,onClick:i.length>0?this.handleCreate:null},"Dodaj playlist\u0119"),e&&r.a.createElement(Re,{selectedSongs:i,handleSelectSongs:c,editedPlaylist:o,isCreating:e,handleClose:this.handleClose,user:u}))}}]),t}(a.Component),Me=Object(Oe.withStyles)({Btn:{color:"white",borderColor:"white",fontSize:"14px",fontWeight:"bold",textTransform:"none",padding:"3px 25px",marginLeft:15,"&:hover":{backgroundColor:"#02a8f4"}}})(Ue),Ze=n(219),Ve=n.n(Ze),qe=n(117),Je=n.n(qe),Ke=n(71),He=n.n(Ke),Xe=n(220),Ge=n.n(Xe),Ye=n(44),Qe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",open:!1},n.handleChange=function(e){n.setState(Object(P.a)({},e.currentTarget.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.isSignedUp?Ye.auth().createUserWithEmailAndPassword(a,r).then(function(e){Ye.database().ref("users/".concat(e.user.uid)).set({email:a,password:r,uid:e.user.uid}),alert("rejestracja sie udala, yay !")}).catch(function(e){alert(e.message)}):Ye.auth().signInWithEmailAndPassword(a,r).then(function(){alert("logowanie sie udalo, yay !")}).catch(function(e){alert(e.message),n.props.handleClose()})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isSignedUp,a=e.isOpen,l=e.handleClose,i=n?"Zarejestruj si\u0119":"Zaloguj si\u0119";return r.a.createElement(N.a,{open:a,onClose:function(){return l()}},r.a.createElement("main",{className:t.main},r.a.createElement(Je.a,null),r.a.createElement(I.a,{className:t.paper},r.a.createElement(Ve.a,{className:t.avatar},r.a.createElement(Ge.a,null)),r.a.createElement(b.a,{component:"h1",variant:"h5"},i),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(ce.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"email"},"Adres email"),r.a.createElement(He.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:this.state.email,onChange:this.handleChange})),r.a.createElement(ce.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"password"},"Has\u0142o"),r.a.createElement(He.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},i)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.open!==e.isOpen?{open:e.isOpen}:null}}]),t}(a.Component),$e=Object(Oe.withStyles)(function(e){return{main:Object(P.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Qe),_e=(n(472),n(210),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0,isSignedUp:!1,isOpen:!1},n.handleChange=function(e,t){n.setState({value:t})},n.handleSignInOpen=function(){n.setState({isOpen:!0,isSignedUp:!1})},n.handleSignUpOpen=function(){n.setState({isOpen:!0,isSignedUp:!0})},n.handleClose=function(){n.setState({isOpen:!1})},n.logOut=function(){Ye.auth().signOut()},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"/lista-piosenek"===window.location.pathname&&this.setState({value:0}),"/playlisty"===window.location.pathname&&this.setState({value:1})}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.isSignedUp,l=e.isOpen,i=this.props,s=i.classes,o=i.user,c=i.selectedSongs,u=i.editedPlaylist,p=i.handleSelectSongs;return r.a.createElement(a.Fragment,null,r.a.createElement(h.a,{className:Te()(s.AppBar,s.firstAppBar)},r.a.createElement(w.a,{container:!0,className:s.maxWidth},r.a.createElement(w.a,{item:!0,lg:4,className:s.flexContainer},r.a.createElement(C.a,{style:{fontSize:"38px",marginRight:"25px"}}),r.a.createElement(b.a,{component:d.a,to:"/lista-piosenek",variant:"h6",color:"inherit",className:s.logoText},"\u015apiewnik")),r.a.createElement(w.a,{item:!0,lg:8,className:s.flexEnd},o?r.a.createElement(a.Fragment,null,r.a.createElement(b.a,{variant:"subtitle2",style:{color:"white"}},"U\u017cytkownik:",r.a.createElement("span",{style:{fontWeight:"bold"}}," ",o.email)),r.a.createElement(E.a,{className:Te()(s.Btn,s.logoutBtn),onClick:this.logOut},"Wyloguj si\u0119")):r.a.createElement(a.Fragment,null,r.a.createElement($e,{isOpen:l,isSignedUp:n,handleClose:this.handleClose}),r.a.createElement(E.a,{className:Te()(s.Btn,s.loginBtn),onClick:this.handleSignInOpen},"Zaloguj si\u0119"),r.a.createElement(E.a,{variant:"contained",className:Te()(s.Btn,s.registerBtn),onClick:this.handleSignUpOpen},"Zarejestruj si\u0119"))))),r.a.createElement(h.a,{className:Te()(s.AppBar,s.secondAppBar)},r.a.createElement(w.a,{container:!0,className:s.maxWidth},r.a.createElement(w.a,{item:!0,lg:6},r.a.createElement(f.a,{variant:"dense"},r.a.createElement(j.a,{value:t,onChange:this.handleChange},r.a.createElement(O.a,{component:d.a,to:"/lista-piosenek",label:"Lista piosenek",classes:{label:"logo-text"}}),r.a.createElement(O.a,{component:d.a,to:"/playlisty",label:"Playlisty",classes:{label:"logo-text"}})))),r.a.createElement(w.a,{item:!0,lg:6,className:s.flexEnd},r.a.createElement(we,null),o?r.a.createElement(Me,{editedPlaylist:u,selectedSongs:c,handleSelectSongs:p,user:o}):null,r.a.createElement(Ie,{songs:c})))))}}]),t}(a.Component)),et=Object(Oe.withStyles)(function(e){return{AppBar:{backgroundColor:e.palette.primary.main,height:55,alignItems:"center"},firstAppBar:{position:"static",boxShadow:"none"},secondAppBar:{position:"sticky"},logoText:{letterSpacing:3,fontSize:22,textDecoration:"none",fontFamily:"'Montserrat', sans-serif"},flexContainer:{display:"flex",alignItems:"center"},flexEnd:{display:"flex",justifyContent:"flex-end",alignItems:"center"},maxWidth:{height:"100%",maxWidth:1030,margin:"0 auto",alignItems:"center",justifyContent:"space-between"},Btn:{color:"white",fontSize:"14px",textTransform:"none",fontWeight:"bold",padding:"3px 25px",marginLeft:15},loginBtn:{"&:hover":{backgroundColor:e.palette.secondary.dark,color:"#ececec"}},registerBtn:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,color:"#ececec"}},logoutBtn:{"&:hover":{backgroundColor:e.palette.secondary.dark,color:"#ececec"}},label:{textTransform:"none"}}})(_e),tt=function(e){var t=e.handleChange,n=e.label,a=e.placeholder;return r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(le.a,{id:"standard-full-width",label:n,style:{margin:8},placeholder:a,fullWidth:!0,onChange:t,margin:"normal",InputLabelProps:{shrink:!0}}))},nt=n(81),at=n.n(nt),rt=n(72),lt=n.n(rt),it=n(73),st=n.n(it),ot="https://app-songbook.firebaseio.com/",ct=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",playlists:[],editedPlaylist:{},isEditing:!1,isPublic:!0},n.getPublicPlaylists=function(){fetch("".concat(ot,"/playlists.json")).then(function(e){return e.json()}).then(function(e){var t=e&&Object.keys(e).map(function(t){return Object(z.a)({id:t},e[t])});n.setState({playlists:t||[]})})},n.getPrivatePlaylists=function(){var e=n.props.user;Tt.ref("users/".concat(e.uid,"/playlists")).once("value").then(function(e){var t=e.val(),a=t&&Object.keys(t).map(function(e){return Object(z.a)({id:e},t[e])});n.setState({playlists:a||[]})})},n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.handleCategorySelect=function(e){"public"===e&&(n.setState({isPublic:!0}),n.getPublicPlaylists()),"private"===e&&(n.setState({isPublic:!1}),n.getPrivatePlaylists())},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getPublicPlaylists()}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=void 0===n?"":n,l=t.playlists,i=void 0===l?[]:l,s=t.isPublic,o=this.props,c=o.classes,u=o.user,p=i.filter(function(e){var t=e.title.toLowerCase(),n=a.trim().toLowerCase();return t.includes(n)});return r.a.createElement(X,null,r.a.createElement(w.a,{container:!0,spacing:24},r.a.createElement(w.a,{item:!0,md:4},r.a.createElement(I.a,null,r.a.createElement(at.a,{component:"nav",style:{background:"white"}},r.a.createElement(lt.a,{button:!0,onClick:function(){return e.handleCategorySelect("public")}},r.a.createElement(st.a,{primary:"publicze"})),r.a.createElement(lt.a,{button:!0,onClick:u?function(){return e.handleCategorySelect("private")}:null},r.a.createElement(st.a,{primary:"prywatne"}))))),r.a.createElement(w.a,{item:!0,md:8},r.a.createElement(G,null,r.a.createElement(b.a,{className:c.categoryTitle},s?"Playlisty publiczne":"Playlisty prywatne"),r.a.createElement(tt,{handleChange:this.handleInputChange,label:"Wyszukaj playlist\u0119",placeholder:"Wpisz nazw\u0119 playlisty"}),p.map(function(e){return r.a.createElement(ee,{key:e.id},r.a.createElement(d.a,{key:e.id,to:s?"/playlisty/".concat(e.id):"users/".concat(u.uid,"/playlists/").concat(e.id),className:c.link},r.a.createElement(b.a,{className:c.playlistTitle},e.title),r.a.createElement(b.a,{className:c.playlistDescription},void 0!==e.songs&&e.songs.map(function(e,t,n){var a=e.performer,l=e.title,i=e.id;return t<n.length-1?r.a.createElement("span",{key:i},a?a+" - "+l:l,", "):r.a.createElement("span",{key:i},a?a+" - "+l:l)}))))})))))}}]),t}(a.Component),ut=Object(Oe.withStyles)(function(e){return{playlistTitle:{fontSize:18,padding:"15px 15px 5px 15px"},playlistDescription:{padding:"0px 15px 15px 15px"},link:{textDecoration:"none"},categoryTitle:{fontSize:20,fontWeight:"bold",marginBottom:15}}})(ct),pt=n(223),dt=n.n(pt),mt=Object(Oe.withStyles)(function(e){return{link:{textDecoration:"none"},title:{fontSize:16},category:{fontSize:13},checkbox:{width:"auto",padding:"0 10px 0 0"}}})(function(e){var t=e.song,n=t.id,a=t.performer,l=t.title,i=t.category,s=e.handleCheckboxSelect,o=e.checked,c=void 0===o?{}:o,u=e.classes;return r.a.createElement(Y,{elevation:1},r.a.createElement(dt.a,{name:n,color:"primary",className:u.checkbox,icon:r.a.createElement(de.b,{fontSize:"big"}),checkedIcon:r.a.createElement(de.a,{fontSize:"big"}),checked:!!c[n]&&c[n],onChange:s}),r.a.createElement(d.a,{to:"/lista-piosenek/".concat(n),className:u.link},r.a.createElement(b.a,{className:u.title},a?a+" - "+l:l),r.a.createElement(b.a,{className:u.category}," "+i)))}),ht="https://app-songbook.firebaseio.com/",gt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={songs:[],category:"",searchText:"",selectedSongs:[],checked:{}},n.fetchSongs=function(){fetch("".concat(ht,"/songs.json")).then(function(e){return e.json()}).then(function(e){var t=e&&Object.keys(e).map(function(t){return Object(z.a)({id:t},e[t])});n.setState({songs:t||[]});var a=t.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t.id,!1))},{}),r=n.props.selectedSongs,l=r.map(function(e){return e.id}).reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});n.setState(Object(z.a)({},n.state,{selectedSongs:r,checked:Object.assign(a,l)}))})},n.handleCategorySelect=function(e){n.setState({category:e})},n.handleChangeForm=function(e){n.setState({searchText:e.target.value.toLowerCase()})},n.handleCheckboxSelect=function(e){var t=e.target.name,a=n.state.songs.find(function(e){return e.id===t});if(!1===n.state.checked[t]){var r=[].concat(Object(Ce.a)(n.state.selectedSongs),[a]);n.setState(function(e){return{checked:Object(z.a)({},e.checked,Object(P.a)({},t,!e.checked[t])),selectedSongs:r}}),n.props.handleSelectSongs(r)}else{var l=[].concat(Object(Ce.a)(n.state.selectedSongs),[a]).filter(function(e){return e.id!==a.id});n.setState(function(e){return{checked:Object(z.a)({},e.checked,Object(P.a)({},t,!e.checked[t])),selectedSongs:l}}),n.props.handleSelectSongs(l)}},n.handleSelectAll=function(e){var t=n.state.checked,a=Object.keys(t).reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});n.setState(Object(z.a)({},n.state,{checked:a,selectedSongs:e})),n.props.handleSelectSongs(e)},n.handleClearSelectAll=function(){var e=n.state.checked,t=Object.keys(e).reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!1))},{});n.setState({checked:t,selectedSongs:[]}),n.props.handleSelectSongs([])},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Tt.ref("songs").on("value",function(t){e.fetchSongs()})}},{key:"componentWillUnmount",value:function(){var e=this;Tt.ref("songs").off("value",function(t){e.fetchSongs()})}},{key:"render",value:function(){var e=this,t=this.state,n=t.songs,a=void 0===n?[]:n,l=t.category,i=void 0===l?"":l,s=t.searchText,o=void 0===s?"":s,c=t.checked,u=this.props.classes,p=i?a.filter(function(e){return e.category===i}):a;p=o?p.filter(function(e){return(e.performer.toLowerCase()+e.title.toLowerCase()).includes(o)}):p;var d=Object(Ce.a)(new Set(a.map(function(e){return e.category})));return r.a.createElement(X,null,r.a.createElement(w.a,{container:!0,spacing:24},r.a.createElement(w.a,{item:!0,md:4},r.a.createElement(I.a,null,r.a.createElement(at.a,{component:"nav",style:{background:"white"}},r.a.createElement(lt.a,{button:!0,onClick:function(){return e.handleCategorySelect("")}},r.a.createElement(st.a,{primary:"wszystkie"})),d.map(function(t){return r.a.createElement(lt.a,{button:!0,onClick:function(){return e.handleCategorySelect(t)},key:t},r.a.createElement(st.a,{primary:t}))})))),r.a.createElement(w.a,{item:!0,md:8},r.a.createElement(E.a,{onClick:function(){return e.handleSelectAll(p)},variant:"outlined",className:u.btn},"Zaznacz wszystkie"),r.a.createElement(E.a,{onClick:this.handleClearSelectAll,variant:"outlined",className:u.btn},"Wyczy\u015b\u0107"),r.a.createElement("div",{style:{width:"100%",margin:"5px 0 15px 0"}},r.a.createElement(tt,{handleChange:this.handleChangeForm,placeholder:"Wpisz nazw\u0119 artysty lub tytu\u0142 piosenki...",label:"Wyszukaj piosenk\u0119"})),p.map(function(t){return r.a.createElement(mt,{key:t.id,song:t,checked:c,handleCheckboxSelect:e.handleCheckboxSelect})}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.selectedSongs.length!==t.selectedSongs.length){var n=t.songs.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t.id,!1))},{});return Object(z.a)({},t,{selectedSongs:e.selectedSongs,checked:n})}return null}}]),t}(a.Component),ft=Object(Oe.withStyles)({btn:{textTransform:"none",marginRight:15}})(gt),yt=n(505),bt=function(e){return e.history.push("/lista-piosenek"),r.a.createElement("div",null,"hello")},vt=n(118),Et=n.n(vt),St=n(119),jt=n.n(St),kt=n(121),Ot=n.n(kt),xt=n(120),wt=n.n(xt),Ct=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isEditing:!1,playlist:{}},n.getPlaylist=function(){var e=n.props.match.params,t=e.userId,a=e.playlistId;t?Tt.ref("users/".concat(t,"/playlists/").concat(a)).once("value").then(function(e){var t=e.val();n.setState({playlist:Object(z.a)({},t,{id:a})})}):Tt.ref("playlists/".concat(a)).once("value").then(function(e){var t=e.val();n.setState({playlist:Object(z.a)({},t,{id:a})})})},n.handleEditPlaylist=function(){n.setState({isEditing:!0})},n.handleCloseEditMode=function(){n.setState({isEditing:!1})},n.handleRemovePlaylist=function(e){var t=n.props.match.params,a=t.userId,r=t.playlistId;a?Tt.ref("users/".concat(a,"/playlists/").concat(r)).remove().then(function(){return alert("Removed playlist successfully")}).then(function(){return n.props.history.push("/playlisty")}).catch(function(e){return alert(e.message)}):Tt.ref("playlists/".concat(e)).remove().then(function(){return alert("Removed playlist successfully")}).then(function(){return n.props.history.push("/playlisty")}).catch(function(e){return alert(e.message)})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getPlaylist()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isEditing,a=t.playlist,l=t.playlist,i=l.title,s=l.songs,o=void 0===s?[]:s,c=this.props,u=c.classes,p=c.selectedSongs,d=c.handleSelectSongs,m=c.user;return r.a.createElement(X,null,n&&r.a.createElement(Re,{isEditing:n,editedPlaylist:a,handleClose:this.handleCloseEditMode,selectedSongs:p,handleSelectSongs:d,fetchData:this.getPlaylist,user:m}),r.a.createElement(te,null,r.a.createElement("h1",null,i),r.a.createElement("p",null,"Stworzone przez: ",a.userEmail),r.a.createElement("div",{className:u.buttonsWrapper},r.a.createElement(E.a,{className:u.btn,onClick:function(){return e.handleEditPlaylist(a)}},"Edytuj"),r.a.createElement(E.a,{className:u.btn,onClick:function(){return e.handleRemovePlaylist(a.id)}},"Usu\u0144"),r.a.createElement(Ie,{title:i,songs:o})),o.map(function(e){return r.a.createElement(Et.a,{key:e.id},r.a.createElement(jt.a,{expandIcon:r.a.createElement(wt.a,null)},r.a.createElement(b.a,null,e.performer?e.performer+" - "+e.title:e.title)),r.a.createElement(Ot.a,{style:{display:"block"}},r.a.createElement(b.a,{className:u.title},e.performer?e.performer+" - "+e.title:e.title),Ee(e).map(function(e,t){return null!==e.text?r.a.createElement(b.a,{className:u.verse,key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})})))})))}}]),t}(a.Component),Pt=Object(Oe.withStyles)(function(e){return{buttonsWrapper:{width:"100%",paddingBottom:"15px"},btn:{marginRight:15},title:{fontSize:18},verse:{fontSize:14}}})(Ct),zt=n(10),Wt=n.n(zt),Nt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={songs:[],isAdmin:!1,user:null},n.getSongs=function(){var e=n.props.user;Tt.ref("songs-to-approve").once("value").then(function(t){var a=t.val()||{},r=Object.keys(a).map(function(e){return Object(z.a)({id:e},a[e])});n.setState({songs:r||[],isAdmin:!0,ref:Tt.ref("songs"),user:e})}).catch(function(e){return alert("Probably permission denied")}),Tt.ref("songs-to-approve").on("value",function(e){var t=e.val()||{},a=Object.keys(t).map(function(e){return Object(z.a)({id:e},t[e])});n.setState({songs:a||[]})})},n.submitSong=function(e){var t=n.state.songs.find(function(t){return t.id===e});console.log(t),Tt.ref("songs/".concat(t.id)).set(Object(z.a)({},t)).then(function(){alert("Song approved"),Tt.ref("songs-to-approve/".concat(t.id)).remove().then(function(){return alert("Song removed successfully")}).catch(function(e){return alert(e.message)})}).catch(function(e){return alert(e.message)})},n.deleteSong=function(e){Tt.ref("songs-to-approve/".concat(e)).remove().then(function(){return alert("Song removed successfully")}).catch(function(e){return alert(e.message)})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props.user;this.state.ref&&this.state.ref.off(),null!==e||this.setState({songs:[],isAdmin:!1,user:null})}},{key:"componentDidUpdate",value:function(e){this.props.user!==e.user&&(this.getSongs(),this.setState({user:this.props.user}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.songs,a=void 0===n?[]:n,l=t.isAdmin,i=this.props.classes;return l?r.a.createElement(X,null,r.a.createElement(G,{className:i.songsWrapper},r.a.createElement("h1",null,"Do zatwierdzenia"),a.map(function(t){return r.a.createElement(Et.a,{key:t.id},r.a.createElement(E.a,{color:"primary",variant:"outlined",onClick:function(){return e.submitSong(t.id)}},"Zatwierd\u017a"),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){return e.deleteSong(t.id)}},"Usu\u0144"),r.a.createElement(jt.a,{expandIcon:r.a.createElement(wt.a,null)},r.a.createElement(b.a,null,t.performer?t.performer+" - "+t.title:t.title)),r.a.createElement(Ot.a,{style:{display:"block"}},Ee(t).map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})})))}))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null===e.user?Object(z.a)({},t,{user:null,isAdmin:!1}):null}}]),t}(a.Component),At=Wt()(function(e){return{songsWrapper:{width:"80%",marginBottom:16}}})(Nt);Ye.initializeApp({apiKey:"AIzaSyC8W028Pyt7eD2EXrvnqlAmXSD0zB007t4",authDomain:"app-songbook.firebaseapp.com",databaseURL:"https://app-songbook.firebaseio.com",projectId:"app-songbook",storageBucket:"app-songbook.appspot.com",messagingSenderId:"666603805553"});var Tt=Ye.database(),Bt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,song:"",selectedSongs:[]},n.handleSelectSongs=function(e){n.setState({selectedSongs:e})},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Ye.auth().onAuthStateChanged(function(t){e.setState({user:t})});this.setState({ref:t})}},{key:"componentWillUnmount",value:function(){this.state.ref&&this.state.ref()}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedSongs,l=t.user;return r.a.createElement(a.Fragment,null,r.a.createElement(Je.a,null),r.a.createElement(et,{selectedSongs:n,handleSelectSongs:this.handleSelectSongs,user:l}),r.a.createElement(yt.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(bt,e)}}),r.a.createElement(yt.a,{path:"/lista-piosenek/:songId",component:je}),r.a.createElement(yt.a,{exact:!0,path:"/lista-piosenek",render:function(t){return r.a.createElement(ft,Object.assign({handleSelectSongs:e.handleSelectSongs,selectedSongs:n},t))}}),r.a.createElement(yt.a,{exact:!0,path:"/playlisty",render:function(e){return r.a.createElement(ut,Object.assign({user:l},e))}}),r.a.createElement(yt.a,{path:"/playlisty/:playlistId",render:function(t){return r.a.createElement(Pt,Object.assign({},t,{selectedSongs:n,handleSelectSongs:e.handleSelectSongs,user:l}))}}),r.a.createElement(yt.a,{path:"/users/:userId/playlists/:playlistId",render:function(t){return r.a.createElement(Pt,Object.assign({},t,{selectedSongs:n,handleSelectSongs:e.handleSelectSongs,user:l}))}}),r.a.createElement(yt.a,{path:"/admin",render:function(e){return r.a.createElement(At,Object.assign({user:l},e))}}))}}]),t}(a.Component),It=n(506),Dt=Object(Oe.createMuiTheme)({palette:{primary:{main:"#039be5"},secondary:{main:"#ee6a03",dark:"#e54e03",light:"#ee6a03"}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement(It.a,null,r.a.createElement(Oe.MuiThemeProvider,{theme:Dt},r.a.createElement(Bt,null))),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.4f8fc61c.chunk.js.map