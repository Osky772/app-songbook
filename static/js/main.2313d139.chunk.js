(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,n){e.exports=n(502)},501:function(e,t,n){},502:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(35),i=n.n(l),o=n(21),s=n(22),c=n(24),u=n(23),d=n(25),p=n(504),m=n(155),h=n.n(m),g=n(220),f=n.n(g),y=n(26),b=n.n(y),v=n(16),E=n.n(v),S=n(221),j=n.n(S),k=n(156),O=n.n(k),C=n(33),w=n.n(C),x=n(116),P=n(27),z=n(9),W=n(48),A=n.n(W),I=n(38),B=n(39),D=n(36),F=n.n(D);function T(){var e=Object(I.a)(["\n\tpadding: 0px 25px 25px 25px;\n\theight: 100%;\n\toverflow: auto;\n\tposition: relative;\n"]);return T=function(){return e},e}function N(){var e=Object(I.a)(["\n\twidth: 700px;\n\theight: 100vh;\n\tbackground: white;\n\toutline: none;\n"]);return N=function(){return e},e}function L(){var e=Object(I.a)(["\n\twidth: 80%;\n\tpadding: 20px 60px 20px 60px;\n\tmargin-bottom: 60;\n\tfont-size: 16;\n"]);return L=function(){return e},e}function U(){var e=Object(I.a)(["\n\twidth: 100%;\n\tmargin: 0 auto 20px auto;\n\tpadding: 10px;\n"]);return U=function(){return e},e}function R(){var e=Object(I.a)(["\n\twidth: 80%;\n\tmargin-bottom: 20px;\n\tmargin: 0 auto 20px auto;\n"]);return R=function(){return e},e}function M(){var e=Object(I.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\theight: 100%;\n\tjustify-content: center;\n\talign-items: center;\n"]);return M=function(){return e},e}function Z(){var e=Object(I.a)([""]);return Z=function(){return e},e}function V(){var e=Object(I.a)(["\n\tmargin: 0px 10px 15px 10px;\n\tborder-radius: 0;\n"]);return V=function(){return e},e}function J(){var e=Object(I.a)(["\n\tpadding: 15px 20px;\n\tmargin: 0px 10px 15px 10px;\n\tborder-radius: 0;\n\tdisplay: flex;\n"]);return J=function(){return e},e}function K(){var e=Object(I.a)(["\n\tflex-direction: column;\n"]);return K=function(){return e},e}function Y(){var e=Object(I.a)(["\n\tmax-width: 1000px;\n\tmargin: 0 auto;\n\tpadding-top: 40px;\n\tdisplay: flex;\n\tjustify-content: center;\n"]);return Y=function(){return e},e}var q=function(e){var t=e.className,n=e.children;return r.a.createElement(F.a,{className:t},n)},H=Object(B.a)(function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:t},n)})(Y()),X=B.a.div(K()),G=Object(B.a)(q)(J()),Q=B.a.div(V()),$=B.a.div(Z()),_=B.a.div(M()),ee=(Object(B.a)(q)(R()),Object(B.a)(q)(U())),te=Object(B.a)(q)(L()),ne=B.a.div(N()),ae=B.a.div(T()),re=n(53),le=n.n(re),ie=n(80),oe=n.n(ie),se=n(52),ce=n.n(se),ue=n(114),de=n.n(ue),pe=n(62),me=function(e){var t=e.message;return r.a.createElement(de.a,{style:{backgroundColor:"#fca525",margin:"15px 0 35px 0",maxWidth:"100%"},message:r.a.createElement("span",{style:{display:"flex",marginLeft:"-5px"}},r.a.createElement(pe.d,{style:{fontSize:50,height:"100%",marginRight:10}}),r.a.createElement("span",null,r.a.createElement("div",{style:{fontWeight:"bold"}},"Uwaga!"),t))})},he=n(51),ge=n.n(he),fe=function(e){var t=e.error,n=e.type,a=[];if("song"===n){var l=t.title,i=t.category,o=t.description;l&&a.push("tytu\u0142"),i&&a.push("kategoria"),o&&a.push("tekst")}if("playlist"===n){var s=t.title,c=t.songs;s&&a.push("tytu\u0142"),c&&a.push("list\u0119 piosenek")}return r.a.createElement("div",{style:0===a.length?{display:"none"}:{display:"block"}},r.a.createElement(de.a,{style:{backgroundColor:"#d30033",margin:"15px 0 35px 0",height:40,width:"calc(100% - 50px)",maxWidth:"100%",position:"absolute"},message:r.a.createElement("span",{style:{display:"flex",marginLeft:"-5px"}},r.a.createElement(pe.c,{style:{fontSize:15,height:"100%",marginRight:10}}),r.a.createElement("span",null,"Musisz uzupe\u0142ni\u0107 pole:",r.a.createElement("span",{style:{fontWeight:"bold"}}," ",a.join(", ")," "),"song"===n?"aby doda\u0107 piosenk\u0119!":"aby doda\u0107 playlist\u0119"))}))},ye={textField:{display:"block",marginBottom:15,marginTop:0},select:{marginBottom:15},textFieldMultiline:{display:"block",margin:8}},be=["polskie piosenki","zagraniczne piosenki","piosenki harcerskie","piosenki religijne","piosenki turystyczne","piosenki ludowe","pie\u015bni patriotyczne","piosenki dla dzieci","szanty","kol\u0119dy","biesiadne"],ve=function(e){var t=e.song,n=t.category,a=void 0===n?"":n,l=t.title,i=void 0===l?"":l,o=t.performer,s=void 0===o?"":o,c=t.description,u=void 0===c?"":c,d=e.handleSubmit,p=e.handleChange,m=e.handleChangeSongText,h=e.handleCloseModal,g=e.handleSongPreview,f=e.isError,y=e.error;return r.a.createElement(ae,null,f&&r.a.createElement(fe,{type:"song",error:y}),r.a.createElement("form",{onSubmit:d,style:{marginTop:"70px"}},r.a.createElement(le.a,{id:"outlined-full-width",label:"Tytu\u0142 *",error:y.title,name:"title",style:ye.textField,onChange:p,value:i,autoComplete:"off",placeholder:"Wpisz nazw\u0119 utworu",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(le.a,{id:"outlined-full-width",label:"Wykonawca",name:"performer",style:ye.textField,onChange:p,value:s,autoComplete:"off",placeholder:"Wpisz wykonawc\u0119 utworu",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(ce.a,{error:y.category},r.a.createElement(ge.a,{shrink:!0,htmlFor:"select-multiple-native"},"Kategoria *"),r.a.createElement(oe.a,{native:!0,value:a,onChange:p,name:"category",style:ye.select,inputProps:{id:"select-multiple-native"}},a?null:r.a.createElement("option",{value:""},"Wybierz kategori\u0119..."),be.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(me,{message:"Kolejne wersy oddzielaj enterem. Chwyty przypisane do danego wersu dodawaj w tej samej linii w nawiasach ostrych, oddzielonymi przecinkami, np. Tak, tak, tam w lustrze... <G, d, C>."}),r.a.createElement(le.a,{id:"outlined-textarea",label:"Tekst piosenki *",error:y.description,name:"description",onChange:m,value:u,placeholder:"Tutaj wpisz tekst piosenki oraz chwyty",style:ye.textField,multiline:!0,rows:"18",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},helperText:"* pola obowi\u0105zkowe"}),r.a.createElement(E.a,{type:"submit"},"Zatwierd\u017a"),r.a.createElement(E.a,{onClick:h},"Wyjd\u017a"),r.a.createElement(E.a,{onClick:g},"Podgl\u0105d")))},Ee=function(e){var t=e.description,n=(void 0===t?"":t).split("\n").map(function(e){return{text:e.split("<")[0]?e.split("<")[0].trim():null,chords:e.split("<")[1]?e.split("<")[1].trim().slice(0,-1):null}});return""===n[n.length-1].text&&""===n[n.length-2].text&&(n.pop(),n.pop()),""===n[n.length-1].text&&n.pop(),n},Se={verse:{display:"flex",margin:"10px 0"},text:{width:"75%"},chords:{width:"20%"}},je=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={song:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.songId;console.log(t),fetch("".concat("https://app-songbook.firebaseio.com/","/songs/").concat(t,".json")).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({song:t})})}},{key:"render",value:function(){var e=this.state,t=e.song,n=e.song,a=n.performer,l=void 0===a?"":a,i=n.title,o=void 0===i?"":i,s=n.category,c=void 0===s?"":s,u=Ee(t);return r.a.createElement(H,null,r.a.createElement(te,null,r.a.createElement("h2",null,l?l+" - "+o:o),r.a.createElement("h4",null,c),u.map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})})))}}]),t}(a.Component),ke=function(e){var t=e.isPreviewed,n=e.handleSongPreview,a=e.song,l=e.song,i=l.performer,o=void 0===i?"":i,s=l.title,c=void 0===s?"":s,u=l.category,d=void 0===u?"":u,p=Ee(a);return r.a.createElement(A.a,{open:t},r.a.createElement(_,null,r.a.createElement(ne,null,r.a.createElement("div",{style:{padding:"20px 30px",height:"100%",overflow:"auto"}},r.a.createElement("h2",null,o?o+" - "+c:c),r.a.createElement("h4",null,d),p.map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})}),r.a.createElement(E.a,{onClick:n},"Wyjd\u017a")))))},Oe=n(31),Ce=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,isError:!1,error:{title:!1,description:!1,category:!1},isPreviewed:!1,song:{title:"",performer:"",description:"",category:""}},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1,isError:!1,error:{title:!1,description:!1,category:!1}})},n.handleChange=function(e){var t=e.currentTarget.name,a=n.state,r=a.error,l=a.song;n.setState({song:Object(z.a)({},l,Object(P.a)({},t,e.target.value)),error:Object(z.a)({},r,Object(P.a)({},t,(r[t],!1)))})},n.handleChangeSongText=function(e){var t=e.currentTarget.name,a=n.state,r=a.error,l=a.song,i=e.target.value;i=(i=i.startsWith("\n")?i.substr(1):i).endsWith("\n\n\n")?i.substr(0,i.length-1):i,n.setState({song:Object(z.a)({},l,Object(P.a)({},t,i)),error:Object(z.a)({},r,Object(P.a)({},t,(r[t],!1)))})},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state.song,a=Object.keys(t).filter(function(e){return"performer"!==e}).filter(function(e){return""===t[e]}),r=a.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});a.length>0?n.setState(Object(z.a)({},n.state,{isError:!0,error:r})):zt.ref("songs-to-approve").push().set(Object(z.a)({},t,{isApproved:!1})).then(function(){alert("Added song successfully"),n.setState({open:!1,isError:!1,error:{},isPreviewed:!1,song:{title:"",performer:"",description:"",category:""}})}).catch(function(){return alert("Error has occurred")})},n.handleSongPreview=function(){var e=n.state.isPreviewed;n.setState(Object(z.a)({},n.state,{isPreviewed:!e}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.song,n=e.open,l=e.isPreviewed,i=e.isError,o=e.error,s=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(E.a,{className:s.Btn,variant:"outlined",onClick:this.handleOpen},"Dodaj utw\xf3r"),r.a.createElement(A.a,{open:n,disableBackdropClick:!0},r.a.createElement(_,null,r.a.createElement(ne,null,r.a.createElement(ve,{song:t,handleSubmit:this.handleFormSubmit,handleChange:this.handleChange,handleChangeSongText:this.handleChangeSongText,handleCloseModal:this.handleClose,handleSongPreview:this.handleSongPreview,error:o,isError:i})))),r.a.createElement(ke,{isPreviewed:l,handleSongPreview:this.handleSongPreview,song:t}))}}]),t}(a.Component),we=Object(Oe.withStyles)(function(e){return{Btn:{color:"white",borderColor:"white",fontSize:"13px",fontWeight:"bold",marginLeft:15,"&:hover":{backgroundColor:"#02a8f4"}}}})(Ce),xe=n(54),Pe=n(153),ze=n.n(Pe),We=n(214),Ae=n.n(We),Ie=n(8),Be=n.n(Ie);ze.a.vfs=Ae.a.pdfMake.vfs;var De=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={songs:[]},n.createPDF=function(){var e=n.state,t=e.title,a=void 0===t?"":t,r=e.songs.map(function(e){return[{text:e.title,style:"header"},{columns:[{width:"75%",text:e.description.split("\n").map(function(e){return e.split("<")[0]?e.split("<")[0].trim():""}).join("\n")},{width:"20%",text:e.description.split("\n").map(function(e){return e.split("<")[1]?e.split("<")[1].trim().slice(0,-1).split(", ").join(" "):""}).join("\n")}]}]}),l={header:{text:"app.spiewnik - najwi\u0119ksza podr\u0119czna baza piosenek",style:"watermark"},footer:function(e,t){return[{text:e.toString()+" z "+t,alignment:"center"}]},content:[{text:a,style:"title"}].concat(Object(xe.a)(r)),styles:{title:{marginBottom:15,fontSize:25,bold:!0},header:{fontSize:18,bold:!0,marginBottom:6,marginTop:15},watermark:{marginLeft:40,marginTop:15,fontSize:8}}};ze.a.createPdf(l).open()},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.songs,t=this.props.classes;return r.a.createElement(E.a,{variant:"contained",className:Be()(t.Btn,t.active),disabled:Boolean(!e.length),onClick:e.length?this.createPDF:null},"Create PDF")}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.songs.length!==t.songs.length?{title:e.title,songs:e.songs}:null}}]),t}(a.Component),Fe=Object(Oe.withStyles)(function(e){return{Btn:{color:"white",fontSize:"13px",fontWeight:"bold",marginLeft:15},active:{backgroundColor:"#DC244A",color:"white","&:hover":{backgroundColor:"#c72042"}},disabled:{color:"#cbd3df",backgroundColor:"#a4b0bd"}}})(De),Te=n(83),Ne=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.songs,n=void 0===t?[]:t,l=e.removeSong;return r.a.createElement(a.Fragment,null,r.a.createElement(b.a,{variant:"h5",style:{margin:"10px 0 25px 0"}},"Wybrane piosenki"),r.a.createElement(Te.c,{droppableId:"playlist"},function(e){return r.a.createElement($,Object.assign({ref:e.innerRef},e.droppableProps),n.map(function(e,t){var n=e.id,a=e.performer,i=e.title;return r.a.createElement(Te.b,{key:t,draggableId:n,index:t},function(e){return r.a.createElement(Q,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(F.a,{style:{width:"100%",padding:"10px",display:"flex",alignItems:"center",justifyContent:"space-between"},elevation:1},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(b.a,{variant:"h5",style:{marginRight:15}},t+1,"."),r.a.createElement(b.a,{variant:"h5"},a?a+" - "+i:i)),r.a.createElement(x.b,{onMouseEnter:function(e){return e.target.style.cursor="pointer"},onClick:function(){return l(n)},fontSize:20,style:{marginRight:15}})))})}),e.placeholder)}))}}]),t}(a.Component),Le=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCreating:!1,isEditing:!1,isError:!1,playlist:{id:null,title:"",isPublic:!1,songs:[]}},n.handleChange=function(e){n.setState(Object(z.a)({},n.state,{playlist:Object(z.a)({},n.state.playlist,{title:e.target.value})}))},n.handleSelectChange=function(e){n.setState(Object(z.a)({},n.state,{playlist:Object(z.a)({},n.state.playlist,{isPublic:Boolean(e.target.value)})}))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state.playlist,a=n.props.user,r=Object.keys(t).filter(function(e){return"id"!==e}).filter(function(e){return""===t[e]||0===t[e].length}),l=r.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});if(r.length>0)n.setState(Object(z.a)({},n.state,{isError:!0,error:l}));else if(t.id&&t.isPublic)zt.ref("playlists/".concat(t.id)).update(t).then(function(){alert("Playlist edited successfully"),n.props.handleSelectSongs([])}).then(function(){return n.props.fetchData()}).catch(function(e){alert(e.message)});else if(null===t.id&&t.isPublic){var i=zt.ref("playlists").push();i.set(Object(z.a)({},t,{id:i.key,userId:a.uid,userEmail:a.email})).then(function(){alert("Added playlist successfully"),n.props.handleSelectSongs([]),n.props.handleClose()}).catch(function(e){alert(e.message)})}else if(t.isPublic||t.id)t.isPublic||!t.id||zt.ref("users/".concat(a.uid,"/playlists/").concat(t.id)).update(t).then(function(){alert("Playlist edited successfully"),n.props.handleSelectSongs([])}).then(function(){return n.props.fetchData()}).catch(function(e){alert(e.message)});else{var o=zt.ref("users/".concat(a.uid,"/playlists")).push();o.set(Object(z.a)({},t,{id:o.key,userId:a.uid,userEmail:a.email})).then(function(){alert("Your private playlist added successfully"),n.props.handleSelectSongs([]),n.props.handleClose()}).catch(function(e){alert(e.message)})}},n.handleClose=function(){var e=n.props.handleClose;n.setState({open:!1,isEditing:!1,editedPlaylist:""}),e()},n.onDragEnd=function(e){var t=e.destination,a=e.source,r=e.draggableId,l=n.state.playlist.songs;if(t&&t.index!==a.index){var i=Array.from(n.state.playlist.songs);i.splice(a.index,1),i.splice(t.index,0,l.find(function(e){return e.id===r})),n.setState({playlist:Object(z.a)({},n.state.playlist,{songs:i})})}},n.handleRemovePlaylistSong=function(e){var t=n.state.playlist.songs.filter(function(t){return t.id!==e});n.setState(Object(z.a)({},n.state,{playlist:Object(z.a)({},n.state.playlist,{songs:t})}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isCreating,n=e.isEditing,a=e.isError,l=e.error,i=e.playlist,o=i.songs,s=void 0===o?[]:o,c=i.title,u=void 0===c?"":c,d=i.isPublic,p=void 0!==d&&d,m=this.props,h=m.selectedSongs;m.user;return r.a.createElement(Te.a,{onDragEnd:this.onDragEnd},r.a.createElement(A.a,{open:t||n,disableBackdropClick:!0},r.a.createElement(_,null,r.a.createElement(ne,null,r.a.createElement(ae,null,a&&r.a.createElement(fe,{type:"playlist",error:l}),r.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{marginTop:"70px"}},r.a.createElement(le.a,{id:"outlined-full-width",label:"Nazwa",name:"nazwa",onChange:this.handleChange,value:u,autoComplete:"off",placeholder:"Podaj nazw\u0119 dla playlisty",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(ce.a,null,r.a.createElement(ge.a,{shrink:!0,htmlFor:"select-multiple-native"},"Publiczne czy prywatne"),r.a.createElement(oe.a,{native:!0,value:p,onChange:this.handleSelectChange,name:"is-public",inputProps:{id:"select-multiple-native"}},r.a.createElement("option",{value:""},"Wybierz kategori\u0119..."),r.a.createElement("option",{value:!0},"Publiczne"),r.a.createElement("option",{value:!1},"Prywatne"))),r.a.createElement(Ne,{songs:s,selectedSongs:h,removeSong:this.handleRemovePlaylistSong}),n&&r.a.createElement(me,{message:"Jesli chcesz doda\u0107 utwory, wr\xf3\u0107 do listy piosenek, zaznacz utwory i wr\xf3\u0107 tutaj ponownie. Wybrane piosenki pojawi\u0105 si\u0119 na dole listy. Pami\u0119taj, \u017ce nie pojawi si\u0119 piosenka, kt\xf3ra ju\u017c znajduje si\u0119 na li\u015bcie. "}),r.a.createElement(E.a,{type:"submit"},"Zatwierd\u017a"),r.a.createElement(E.a,{onClick:this.handleClose},"Wyjd\u017a")))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.isCreating&&void 0!==e.selectedSongs&&void 0!==t.playlist.songs&&0===t.playlist.songs.length&&0!==e.selectedSongs.length&&!0!==e.isEditing&&!0!==t.isEditing)return Object(z.a)({},t,{isCreating:!0,playlist:Object(z.a)({},t.playlist,{title:"",songs:e.selectedSongs})});if(Boolean(e.editedPlaylist.id)&&e.isEditing&&!0!==t.isEditing){var n=void 0===e.editedPlaylist.songs?[]:e.editedPlaylist.songs,a=Object(xe.a)(n).concat(e.selectedSongs),r=a.map(function(e){return e.id}).map(function(e,t,n){return n.indexOf(e)===t&&t}).filter(function(e){return a[e]}).map(function(e){return a[e]});return Object(z.a)({},t,{playlist:Object(z.a)({},e.editedPlaylist,{songs:r}),isEditing:!0})}return null}}]),t}(a.Component),Ue=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCreating:!1},n.handleCreate=function(){n.setState({isCreating:!0})},n.handleClose=function(){n.setState({isCreating:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.isCreating,t=this.props.classes,n=this.props,l=n.selectedSongs,i=void 0===l?[]:l,o=n.editedPlaylist,s=void 0===o?"":o,c=n.handleSelectSongs,u=n.user;return r.a.createElement(a.Fragment,null,r.a.createElement(E.a,{variant:"outlined",className:t.Btn,onClick:i.length>0?this.handleCreate:null},"DODAJ PLAYLIST\u0118"),e&&r.a.createElement(Le,{selectedSongs:i,handleSelectSongs:c,editedPlaylist:s,isCreating:e,handleClose:this.handleClose,user:u}))}}]),t}(a.Component),Re=Object(Oe.withStyles)({Btn:{color:"white",borderColor:"white",fontSize:"13px",fontWeight:"bold",marginLeft:15,"&:hover":{backgroundColor:"#02a8f4"}}})(Ue),Me=n(218),Ze=n.n(Me),Ve=n(117),Je=n.n(Ve),Ke=n(71),Ye=n.n(Ke),qe=n(219),He=n.n(qe),Xe=n(44),Ge=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",open:!1},n.handleChange=function(e){n.setState(Object(P.a)({},e.currentTarget.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.isSignedUp?Xe.auth().createUserWithEmailAndPassword(a,r).then(function(e){Xe.database().ref("users/".concat(e.user.uid)).set({email:a,password:r,uid:e.user.uid}),alert("rejestracja sie udala, yay !")}).catch(function(e){alert(e.message)}):Xe.auth().signInWithEmailAndPassword(a,r).then(function(){alert("logowanie sie udalo, yay !")}).catch(function(e){alert(e.message),n.props.handleClose()})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isSignedUp,a=e.isOpen,l=e.handleClose,i=n?"Zarejestruj si\u0119":"Zaloguj si\u0119";return r.a.createElement(A.a,{open:a,onClose:function(){return l()}},r.a.createElement("main",{className:t.main},r.a.createElement(Je.a,null),r.a.createElement(F.a,{className:t.paper},r.a.createElement(Ze.a,{className:t.avatar},r.a.createElement(He.a,null)),r.a.createElement(b.a,{component:"h1",variant:"h5"},i),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(ce.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"email"},"Adres email"),r.a.createElement(Ye.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:this.state.email,onChange:this.handleChange})),r.a.createElement(ce.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"password"},"Has\u0142o"),r.a.createElement(Ye.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},i)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.open!==e.isOpen?{open:e.isOpen}:null}}]),t}(a.Component),Qe=Object(Oe.withStyles)(function(e){return{main:Object(P.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Ge),$e=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0,isSignedUp:!1,isOpen:!1},n.handleChange=function(e,t){n.setState({value:t})},n.handleSignInOpen=function(){n.setState({isOpen:!0,isSignedUp:!1})},n.handleSignUpOpen=function(){n.setState({isOpen:!0,isSignedUp:!0})},n.handleClose=function(){n.setState({isOpen:!1})},n.logOut=function(){Xe.auth().signOut()},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.value,n=e.isSignedUp,l=e.isOpen,i=this.props,o=i.classes,s=i.user,c=i.selectedSongs,u=i.editedPlaylist,d=i.handleSelectSongs;return r.a.createElement(a.Fragment,null,r.a.createElement(h.a,{className:Be()(o.AppBar,o.firstAppBar)},r.a.createElement(w.a,{container:!0,className:o.maxWidth},r.a.createElement(w.a,{item:!0,lg:4,className:o.flexContainer},r.a.createElement(x.a,{style:{fontSize:"40px",marginRight:"25px"}}),r.a.createElement(b.a,{component:p.a,to:"/lista-piosenek",variant:"h6",color:"inherit",style:{textDecoration:"none"}},"\u015apiewnik")),r.a.createElement(w.a,{item:!0,lg:8,className:o.flexEnd},s?r.a.createElement(a.Fragment,null,r.a.createElement(b.a,{variant:"subtitle2",style:{color:"white"}},"U\u017cytkownik:",r.a.createElement("span",{style:{fontWeight:"bold"}}," ",s.email)),r.a.createElement(E.a,{variant:"outlined",className:o.Btn,onClick:this.logOut},"Wyloguj si\u0119")):r.a.createElement(a.Fragment,null,r.a.createElement(Qe,{isOpen:l,isSignedUp:n,handleClose:this.handleClose}),r.a.createElement(E.a,{variant:"outlined",className:Be()(o.Btn,o.loginBtn),onClick:this.handleSignInOpen},"Zaloguj si\u0119"),r.a.createElement(E.a,{variant:"contained",className:Be()(o.Btn,o.registerBtn),onClick:this.handleSignUpOpen},"Zarejestruj si\u0119"))))),r.a.createElement(h.a,{className:Be()(o.AppBar,o.secondAppBar)},r.a.createElement(w.a,{container:!0,className:o.maxWidth},r.a.createElement(w.a,{item:!0,lg:4},r.a.createElement(f.a,{variant:"dense",className:o.Toolbar},r.a.createElement(j.a,{value:t,onChange:this.handleChange},r.a.createElement(O.a,{component:p.a,to:"/lista-piosenek",label:"Lista piosenek"}),r.a.createElement(O.a,{component:p.a,to:"/playlisty",label:"Playlisty"})))),r.a.createElement(w.a,{item:!0,lg:8,className:o.flexEnd},r.a.createElement(we,null),s?r.a.createElement(Re,{editedPlaylist:u,selectedSongs:c,handleSelectSongs:d,user:s}):null,r.a.createElement(Fe,{songs:c})))))}}]),t}(a.Component),_e=Object(Oe.withStyles)(function(e){return{AppBar:{backgroundColor:e.palette.primary.main,height:48,alignItems:"center"},firstAppBar:{position:"static",boxShadow:"none"},secondAppBar:{position:"sticky"},Toolbar:{},flexContainer:{display:"flex",alignItems:"center"},flexEnd:{display:"flex",justifyContent:"flex-end",alignItems:"center"},maxWidth:{height:"100%",maxWidth:1030,margin:"0 auto",alignItems:"center",justifyContent:"space-between"},Btn:{color:"white",fontSize:"13px",fontWeight:"bold",marginLeft:15},loginBtn:{borderColor:e.palette.secondary.main,color:"white",fontSize:"13px",fontWeight:"bold","&:hover":{backgroundColor:e.palette.secondary.light,borderColor:e.palette.secondary.light}},registerBtn:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,color:"#ececec"}}}})($e),et=function(e){var t=e.handleChange,n=e.label,a=e.placeholder;return r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(le.a,{id:"standard-full-width",label:n,style:{margin:8},placeholder:a,fullWidth:!0,onChange:t,margin:"normal",InputLabelProps:{shrink:!0}}))},tt=n(81),nt=n.n(tt),at=n(72),rt=n.n(at),lt=n(73),it=n.n(lt),ot="https://app-songbook.firebaseio.com/",st=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",playlists:[],editedPlaylist:{},isEditing:!1,isPublic:!0},n.getPublicPlaylists=function(){fetch("".concat(ot,"/playlists.json")).then(function(e){return e.json()}).then(function(e){var t=e&&Object.keys(e).map(function(t){return Object(z.a)({id:t},e[t])});n.setState({playlists:t||[]})})},n.getPrivatePlaylists=function(){var e=n.props.user;zt.ref("users/".concat(e.uid,"/playlists")).once("value").then(function(e){var t=e.val(),a=t&&Object.keys(t).map(function(e){return Object(z.a)({id:e},t[e])});n.setState({playlists:a||[]})})},n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.handleCategorySelect=function(e){"public"===e&&(n.setState({isPublic:!0}),n.getPublicPlaylists()),"private"===e&&(n.setState({isPublic:!1}),n.getPrivatePlaylists())},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getPublicPlaylists()}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=void 0===n?"":n,l=t.playlists,i=void 0===l?[]:l,o=t.isPublic,s=this.props.user,c=i.filter(function(e){var t=e.title.toLowerCase(),n=a.trim().toLowerCase();return t.includes(n)});return r.a.createElement(H,null,r.a.createElement(w.a,{container:!0,spacing:24},r.a.createElement(w.a,{item:!0,md:4},r.a.createElement(F.a,null,r.a.createElement(nt.a,{component:"nav",style:{background:"white"}},r.a.createElement(rt.a,{button:!0,onClick:function(){return e.handleCategorySelect("public")}},r.a.createElement(it.a,{primary:"PUBLICZNE"})),r.a.createElement(rt.a,{button:!0,onClick:function(){return e.handleCategorySelect("private")}},r.a.createElement(it.a,{primary:"PRYWATNE"}))))),r.a.createElement(w.a,{item:!0,md:8},r.a.createElement(X,null,r.a.createElement(et,{handleChange:this.handleInputChange,label:"Wyszukaj playlist\u0119",placeholder:"Wpisz nazw\u0119 playlisty"}),c.map(function(e){return r.a.createElement(ee,{key:e.id},r.a.createElement(p.a,{key:e.id,to:o?"/playlisty/".concat(e.id):"users/".concat(s.uid,"/playlists/").concat(e.id)},r.a.createElement("h1",null,e.title),void 0!==e.songs&&e.songs.map(function(e,t){var n=e.performer,a=e.title,l=e.id;return r.a.createElement(G,{key:l,elevation:1},r.a.createElement(b.a,{variant:"h5",style:{marginRight:15}},t+1,"."),r.a.createElement("div",null,r.a.createElement(b.a,{variant:"h5"},n?n+" - "+a:a)))})))})))))}}]),t}(a.Component),ct=n(222),ut=n.n(ct),dt=function(e){var t=e.song,n=t.id,a=t.performer,l=t.title,i=t.category,o=e.handleCheckboxSelect,s=e.checked,c=void 0===s?{}:s;return r.a.createElement(G,{elevation:1},r.a.createElement(ut.a,{name:n,color:"primary",icon:r.a.createElement(pe.b,{fontSize:"big"}),checkedIcon:r.a.createElement(pe.a,{fontSize:"big"}),checked:!!c[n]&&c[n],onChange:o}),r.a.createElement(p.a,{to:"/lista-piosenek/".concat(n)},r.a.createElement(b.a,{variant:"h5"},a?a+" - "+l:l),r.a.createElement(b.a,{variant:"h6"}," "+i)))},pt="https://app-songbook.firebaseio.com/",mt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={songs:[],category:"",searchText:"",selectedSongs:[],checked:{}},n.fetchSongs=function(){fetch("".concat(pt,"/songs.json")).then(function(e){return e.json()}).then(function(e){var t=e&&Object.keys(e).map(function(t){return Object(z.a)({id:t},e[t])});n.setState({songs:t||[]});var a=t.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t.id,!1))},{}),r=n.props.selectedSongs,l=r.map(function(e){return e.id}).reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});n.setState(Object(z.a)({},n.state,{selectedSongs:r,checked:Object.assign(a,l)}))})},n.handleCategorySelect=function(e){n.setState({category:e})},n.handleChangeForm=function(e){n.setState({searchText:e.target.value.toLowerCase()})},n.handleCheckboxSelect=function(e){var t=e.target.name,a=n.state.songs.find(function(e){return e.id===t});if(!1===n.state.checked[t]){var r=[].concat(Object(xe.a)(n.state.selectedSongs),[a]);n.setState(function(e){return{checked:Object(z.a)({},e.checked,Object(P.a)({},t,!e.checked[t])),selectedSongs:r}}),n.props.handleSelectSongs(r)}else{var l=[].concat(Object(xe.a)(n.state.selectedSongs),[a]).filter(function(e){return e.id!==a.id});n.setState(function(e){return{checked:Object(z.a)({},e.checked,Object(P.a)({},t,!e.checked[t])),selectedSongs:l}}),n.props.handleSelectSongs(l)}},n.handleSelectAll=function(e){var t=n.state.checked,a=Object.keys(t).reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!0))},{});n.setState(Object(z.a)({},n.state,{checked:a,selectedSongs:e})),n.props.handleSelectSongs(e)},n.handleClearSelectAll=function(){var e=n.state.checked,t=Object.keys(e).reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t,!1))},{});n.setState({checked:t,selectedSongs:[]}),n.props.handleSelectSongs([])},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;zt.ref("songs").on("value",function(t){e.fetchSongs()})}},{key:"componentWillUnmount",value:function(){var e=this;zt.ref("songs").off("value",function(t){e.fetchSongs()})}},{key:"render",value:function(){var e=this,t=this.state,n=t.songs,a=void 0===n?[]:n,l=t.category,i=void 0===l?"":l,o=t.searchText,s=void 0===o?"":o,c=t.checked,u=i?a.filter(function(e){return e.category===i}):a;u=s?u.filter(function(e){return(e.performer.toLowerCase()+e.title.toLowerCase()).includes(s)}):u;var d=Object(xe.a)(new Set(a.map(function(e){return e.category})));return r.a.createElement(H,null,r.a.createElement(w.a,{container:!0,spacing:24},r.a.createElement(w.a,{item:!0,md:4},r.a.createElement(F.a,null,r.a.createElement(nt.a,{component:"nav",style:{background:"white"}},r.a.createElement(rt.a,{button:!0,onClick:function(){return e.handleCategorySelect("")}},r.a.createElement(it.a,{primary:"WSZYSTKIE"})),d.map(function(t){return r.a.createElement(rt.a,{button:!0,onClick:function(){return e.handleCategorySelect(t)},key:t},r.a.createElement(it.a,{primary:t.toUpperCase()}))})))),r.a.createElement(w.a,{item:!0,md:8},r.a.createElement(et,{style:{width:"80%"},handleChange:this.handleChangeForm,placeholder:"Wpisz nazw\u0119 artysty lub tytu\u0142 piosenki...",label:"Wyszukaj piosenk\u0119"}),r.a.createElement(E.a,{onClick:function(){return e.handleSelectAll(u)}},"Zaznacz wszystkie"),r.a.createElement(E.a,{onClick:this.handleClearSelectAll},"Wyczy\u015b\u0107"),u.map(function(t){return r.a.createElement(dt,{key:t.id,song:t,checked:c,handleCheckboxSelect:e.handleCheckboxSelect})}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.selectedSongs.length!==t.selectedSongs.length){var n=t.songs.reduce(function(e,t){return Object(z.a)({},e,Object(P.a)({},t.id,!1))},{});return Object(z.a)({},t,{selectedSongs:e.selectedSongs,checked:n})}return null}}]),t}(a.Component),ht=n(505),gt=function(e){return e.history.push("/lista-piosenek"),r.a.createElement("div",null,"hello")},ft=n(118),yt=n.n(ft),bt=n(119),vt=n.n(bt),Et=n(121),St=n.n(Et),jt=n(120),kt=n.n(jt),Ot=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isEditing:!1,playlist:{}},n.getPlaylist=function(){var e=n.props.match.params,t=e.userId,a=e.playlistId;t?zt.ref("users/".concat(t,"/playlists/").concat(a)).once("value").then(function(e){var t=e.val();n.setState({playlist:Object(z.a)({},t,{id:a})})}):zt.ref("playlists/".concat(a)).once("value").then(function(e){var t=e.val();n.setState({playlist:Object(z.a)({},t,{id:a})})})},n.handleEditPlaylist=function(){n.setState({isEditing:!0})},n.handleCloseEditMode=function(){n.setState({isEditing:!1})},n.handleRemovePlaylist=function(e){var t=n.props.match.params,a=t.userId,r=t.playlistId;a?zt.ref("users/".concat(a,"/playlists/").concat(r)).remove().then(function(){return alert("Removed playlist successfully")}).then(function(){return n.props.history.push("/playlisty")}).catch(function(e){return alert(e.message)}):zt.ref("playlists/".concat(e)).remove().then(function(){return alert("Removed playlist successfully")}).then(function(){return n.props.history.push("/playlisty")}).catch(function(e){return alert(e.message)})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getPlaylist()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isEditing,a=t.playlist,l=t.playlist,i=l.title,o=l.songs,s=void 0===o?[]:o,c=this.props,u=c.selectedSongs,d=c.handleSelectSongs,p=c.user;return r.a.createElement(H,null,n&&r.a.createElement(Le,{isEditing:n,editedPlaylist:a,handleClose:this.handleCloseEditMode,selectedSongs:u,handleSelectSongs:d,fetchData:this.getPlaylist,user:p}),r.a.createElement(te,null,r.a.createElement("h1",null,i),r.a.createElement("p",null,"Stworzone przez: ",a.userEmail),r.a.createElement(E.a,{onClick:function(){return e.handleEditPlaylist(a)}},"Edytuj"),r.a.createElement(E.a,{onClick:function(){return e.handleRemovePlaylist(a.id)}},"Usu\u0144"),r.a.createElement(Fe,{title:i,songs:s}),s.map(function(e){return r.a.createElement(yt.a,{key:e.id},r.a.createElement(vt.a,{expandIcon:r.a.createElement(kt.a,null)},r.a.createElement(b.a,null,e.performer?e.performer+" - "+e.title:e.title)),r.a.createElement(St.a,{style:{display:"block"}},Ee(e).map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})})))})))}}]),t}(a.Component),Ct=n(10),wt=n.n(Ct),xt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={songs:[],isAdmin:!1,user:null},n.getSongs=function(){var e=n.props.user;zt.ref("songs-to-approve").once("value").then(function(t){var a=t.val()||{},r=Object.keys(a).map(function(e){return Object(z.a)({id:e},a[e])});n.setState({songs:r||[],isAdmin:!0,ref:zt.ref("songs"),user:e})}).catch(function(e){return alert("Probably permission denied")}),zt.ref("songs-to-approve").on("value",function(e){var t=e.val()||{},a=Object.keys(t).map(function(e){return Object(z.a)({id:e},t[e])});n.setState({songs:a||[]})})},n.submitSong=function(e){var t=n.state.songs.find(function(t){return t.id===e});console.log(t),zt.ref("songs/".concat(t.id)).set(Object(z.a)({},t)).then(function(){alert("Song approved"),zt.ref("songs-to-approve/".concat(t.id)).remove().then(function(){return alert("Song removed successfully")}).catch(function(e){return alert(e.message)})}).catch(function(e){return alert(e.message)})},n.deleteSong=function(e){zt.ref("songs-to-approve/".concat(e)).remove().then(function(){return alert("Song removed successfully")}).catch(function(e){return alert(e.message)})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props.user;this.state.ref&&this.state.ref.off(),null!==e||this.setState({songs:[],isAdmin:!1,user:null})}},{key:"componentDidUpdate",value:function(e){this.props.user!==e.user&&(this.getSongs(),this.setState({user:this.props.user}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.songs,a=void 0===n?[]:n,l=t.isAdmin,i=this.props.classes;return l?r.a.createElement(H,null,r.a.createElement(X,{className:i.songsWrapper},r.a.createElement("h1",null,"Do zatwierdzenia"),a.map(function(t){return r.a.createElement(yt.a,{key:t.id},r.a.createElement(E.a,{color:"primary",variant:"outlined",onClick:function(){return e.submitSong(t.id)}},"Zatwierd\u017a"),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){return e.deleteSong(t.id)}},"Usu\u0144"),r.a.createElement(vt.a,{expandIcon:r.a.createElement(kt.a,null)},r.a.createElement(b.a,null,t.performer?t.performer+" - "+t.title:t.title)),r.a.createElement(St.a,{style:{display:"block"}},Ee(t).map(function(e,t){return null!==e.text?r.a.createElement("p",{key:t,style:Se.verse},r.a.createElement("span",{style:Se.text},e.text),r.a.createElement("span",{style:Se.chords},e.chords?e.chords:null)):r.a.createElement("br",{key:t})})))}))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null===e.user?Object(z.a)({},t,{user:null,isAdmin:!1}):null}}]),t}(a.Component),Pt=wt()(function(e){return{songsWrapper:{width:"80%",marginBottom:16}}})(xt);Xe.initializeApp({apiKey:"AIzaSyC8W028Pyt7eD2EXrvnqlAmXSD0zB007t4",authDomain:"app-songbook.firebaseapp.com",databaseURL:"https://app-songbook.firebaseio.com",projectId:"app-songbook",storageBucket:"app-songbook.appspot.com",messagingSenderId:"666603805553"});var zt=Xe.database(),Wt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,song:"",selectedSongs:[]},n.handleSelectSongs=function(e){n.setState({selectedSongs:e})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Xe.auth().onAuthStateChanged(function(t){e.setState({user:t})});this.setState({ref:t})}},{key:"componentWillUnmount",value:function(){this.state.ref&&this.state.ref()}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedSongs,l=t.user;return r.a.createElement(a.Fragment,null,r.a.createElement(Je.a,null),r.a.createElement(_e,{selectedSongs:n,handleSelectSongs:this.handleSelectSongs,user:l}),r.a.createElement(ht.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(gt,e)}}),r.a.createElement(ht.a,{path:"/lista-piosenek/:songId",component:je}),r.a.createElement(ht.a,{exact:!0,path:"/lista-piosenek",render:function(t){return r.a.createElement(mt,Object.assign({handleSelectSongs:e.handleSelectSongs,selectedSongs:n},t))}}),r.a.createElement(ht.a,{exact:!0,path:"/playlisty",render:function(e){return r.a.createElement(st,Object.assign({user:l},e))}}),r.a.createElement(ht.a,{path:"/playlisty/:playlistId",render:function(t){return r.a.createElement(Ot,Object.assign({},t,{selectedSongs:n,handleSelectSongs:e.handleSelectSongs,user:l}))}}),r.a.createElement(ht.a,{path:"/users/:userId/playlists/:playlistId",render:function(t){return r.a.createElement(Ot,Object.assign({},t,{selectedSongs:n,handleSelectSongs:e.handleSelectSongs,user:l}))}}),r.a.createElement(ht.a,{path:"/admin",render:function(e){return r.a.createElement(Pt,Object.assign({user:l},e))}}))}}]),t}(a.Component),At=(n(501),n(506)),It=Object(Oe.createMuiTheme)({palette:{primary:{main:"#039be5"},secondary:{main:"#ee6a03",dark:"#e54e03",light:"#ee6a03"}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement(At.a,null,r.a.createElement(Oe.MuiThemeProvider,{theme:It},r.a.createElement(Wt,null))),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.2313d139.chunk.js.map